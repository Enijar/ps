{"version":3,"sources":["config/types.ts","assets/test-landscape.png","config/vars.ts","config/consts.ts","components/ps/styles.ts","components/toolbar/styles.ts","components/toolbar/toolbar.tsx","config/images.ts","components/canvas/styles.ts","utils.ts","components/ps/context.tsx","components/canvas/canvas.tsx","components/sidebar/styles.ts","components/sidebar/sidebar.tsx","components/ps/ps.tsx","index.tsx"],"names":["Tool","white","black","black300","black200","black100","DEFAULTS","position","x","y","startX","startY","lastX","lastY","filters","blur","saturation","hue","sepia","pointGroups","pointGroupIndex","color","vars","brushSize","rotation","tool","move","opacity","scale","PsWrapper","styled","div","PsInner","MAX_CANVAS_WIDTH","PsFlex","ToolbarWrapper","Toolbar","encode","svg","encodeURIComponent","TRANSPARENT_BACKGROUND","CanvasWrapper","clamp","value","min","max","Math","getPosition","event","element","getBoundingClientRect","left","top","width","height","abs","touches","pageX","pageY","getPoints","pointer","size","settings","minD","p","pointGroup","undefined","points","a","b","lastPoint","length","sqrt","pow","getCursor","brush","PsContext","React","createContext","PsContextProvider","children","src","useState","blob","setBlob","setPointGroups","setPointGroupIndex","down","setPointer","ratio","setSize","setRotation","setTool","setPosition","setFilters","setColor","setBrushSize","setScale","setOpacity","transform","useMemo","cx","cy","s","join","lineCap","useRef","reset","useCallback","download","current","canvas","document","createElement","ctx","getContext","img","Image","onload","drawImage","toBlob","href","URL","createObjectURL","click","setAttribute","toString","base64","outerHTML","removeAttribute","useEffect","toDataURL","svgElement","addEventListener","onPointerDown","passive","window","onPointerMove","onPointerUp","removeEventListener","point","preventDefault","context","Provider","Canvas","useContext","style","cursor","ref","viewBox","xmlns","xmlnsXlink","maxWidth","maxHeight","id","stdDeviation","type","values","xlinkHref","filter","map","index","stroke","fill","d","strokeWidth","strokeLinecap","strokeLinejoin","r","strokeMiterlimit","SidebarWrapper","Sidebar","checked","onChange","e","target","step","parseFloat","parseInt","onClick","Ps","ReactDOM","render","StrictMode","testLandscape","getElementById"],"mappings":"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","file":"static/js/main.c95b9100.chunk.js","sourcesContent":["import React from \"react\";\n\nexport type Props = {\n  src: string;\n};\n\nexport type Point = {\n  x: number;\n  y: number;\n};\n\nexport type PointGroup = {\n  color: string;\n  size: number;\n  points: Point[];\n};\n\nexport type Pointer = {\n  down: boolean;\n  x: number;\n  y: number;\n};\n\nexport type Settings = {\n  lineCap: \"round\";\n  p: number;\n};\n\nexport type Position = {\n  x: number;\n  y: number;\n  startX: number;\n  startY: number;\n  lastX: number;\n  lastY: number;\n};\n\nexport type Filters = {\n  blur: number;\n  saturation: number;\n  hue: number;\n  sepia: boolean;\n};\n\nexport type Size = {\n  width: number;\n  height: number;\n  ratio: number;\n};\n\nexport type GetPointsProps = {\n  pointGroups: PointGroup[];\n  pointGroupIndex: number;\n  pointer: Pointer;\n  color: string;\n  brushSize?: number;\n  size: {\n    width: number;\n    height: number;\n  };\n  settings: Settings;\n};\n\nexport enum Tool {\n  move,\n  brush,\n}\n\nexport type PsContextType = {\n  blob: string;\n  setBlob: React.Dispatch<React.SetStateAction<string>>;\n  pointGroups: PointGroup[];\n  setPointGroups: React.Dispatch<React.SetStateAction<PointGroup[]>>;\n  pointGroupIndex: number;\n  setPointGroupIndex: React.Dispatch<React.SetStateAction<number>>;\n  pointer: Pointer;\n  setPointer: React.Dispatch<React.SetStateAction<Pointer>>;\n  size: Size;\n  setSize: React.Dispatch<React.SetStateAction<Size>>;\n  rotation: number;\n  setRotation: React.Dispatch<React.SetStateAction<number>>;\n  tool: Tool;\n  setTool: React.Dispatch<React.SetStateAction<Tool>>;\n  position: Position;\n  setPosition: React.Dispatch<React.SetStateAction<Position>>;\n  filters: Filters;\n  setFilters: React.Dispatch<React.SetStateAction<Filters>>;\n  color: string;\n  setColor: React.Dispatch<React.SetStateAction<string>>;\n  brushSize: number;\n  setBrushSize: React.Dispatch<React.SetStateAction<number>>;\n  scale: number;\n  setScale: React.Dispatch<React.SetStateAction<number>>;\n  opacity: number;\n  setOpacity: React.Dispatch<React.SetStateAction<number>>;\n  transform: string;\n  settings: Settings;\n  svg: React.MutableRefObject<SVGSVGElement | null>;\n  reset: React.MouseEventHandler;\n  download: React.MouseEventHandler;\n};\n","export default __webpack_public_path__ + \"static/media/test-landscape.3381b063.png\";","// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  colors: {\n    white: \"#ffffff\",\n    black: \"#000000\",\n    black300: \"#333\",\n    black200: \"#222\",\n    black100: \"#1c1c1c\",\n  },\n};\n","import vars from \"./vars\";\nimport { Tool } from \"./types\";\n\nexport const DEFAULTS = {\n  position: {\n    x: 0,\n    y: 0,\n    startX: 0,\n    startY: 0,\n    lastX: 0,\n    lastY: 0,\n  },\n  filters: {\n    blur: 0,\n    saturation: 1,\n    hue: 0,\n    sepia: false,\n  },\n  pointGroups: [],\n  pointGroupIndex: -1,\n  color: vars.colors.black,\n  brushSize: 10,\n  rotation: 0,\n  tool: Tool.move,\n  opacity: 1,\n  scale: 1,\n};\n\nexport const MOBILE_WIDTH = 700;\n\nexport const MAX_CANVAS_WIDTH = 800;\n\nexport const MAX_SIDEBAR_WIDTH = 200;\n","import styled from \"styled-components\";\nimport vars from \"../../config/vars\";\nimport {\n  MAX_CANVAS_WIDTH,\n  MAX_SIDEBAR_WIDTH,\n  MOBILE_WIDTH,\n} from \"../../config/consts\";\n\nexport const PsWrapper = styled.div`\n  width: 100%;\n  min-height: 100%;\n  background-color: ${vars.colors.black100};\n  color: ${vars.colors.white};\n  user-select: none;\n  padding: 1em;\n\n  button {\n    border: none;\n    color: ${vars.colors.black300};\n    background-color: ${vars.colors.white};\n    padding: 0.25em 1em;\n  }\n`;\n\nexport const PsInner = styled.div`\n  width: 100%;\n  max-width: ${MAX_CANVAS_WIDTH + MAX_SIDEBAR_WIDTH}px;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport const PsFlex = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n\n  @media (max-width: ${MOBILE_WIDTH}px) {\n    flex-direction: column;\n    justify-content: flex-start;\n  }\n`;\n","import styled from \"styled-components\";\nimport vars from \"../../config/vars\";\n\nexport const ToolbarWrapper = styled.div`\n  width: 100%;\n  padding: 1em;\n  background-color: ${vars.colors.black300};\n`;\n","import { ToolbarWrapper } from \"./styles\";\n\nexport default function Toolbar() {\n  return (\n    <ToolbarWrapper>\n      <div>Toolbar</div>\n    </ToolbarWrapper>\n  );\n}\n","import vars from \"./vars\";\n\nfunction encode(svg: string): string {\n  return `data:image/svg+xml;utf8,${encodeURIComponent(svg)}`;\n}\n\nexport const TRANSPARENT_BACKGROUND = encode(\n  `<svg width=\"20\" height=\"20\" viewBox=\"0 0 40 40\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m0 0h20v20h-20z\" fill=\"#d7d7d7\"/><path d=\"m20 20h20v20h-20z\" fill=\"#d7d7d7\"/><g fill=\"#fff\"><path d=\"m20 0h20v20h-20z\"/><path d=\"m0 20h20v20h-20z\"/></g></svg>`\n);\n\nexport const MOVE_ICON = encode(\n  `<svg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m2674 2900-23.08 19.23v-15.38h-23.07v23.07h15.38l-19.23 23.08-19.23-23.08h15.38v-23.07h-23.07v15.38l-23.08-19.23 23.08-19.23v15.38h23.07v-23.07h-15.38l19.23-23.08 19.23 23.08h-15.38v23.07h23.07v-15.38z\" fill=\"${vars.colors.white}\" fill-rule=\"evenodd\" transform=\"translate(-2574 -2850)\"/></svg>`\n);\n\nexport const ZOOM_ICON = encode(\n  `<svg width=\"100\" height=\"98.46\" viewBox=\"0 0 100 98.46\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m2210.36 2012.7-8.65 8.64-32.57-32.57a36.468 36.468 0 1 1 8.41-8.88zm-63.33-83.71a30.56 30.56 0 1 0 30.57 30.56 30.564 30.564 0 0 0 -30.57-30.56zm0 13.75a16.653 16.653 0 0 0 -9.16 2.75v-6.94a22.909 22.909 0 0 1 32.09 21h-6.12a16.809 16.809 0 0 0 -16.81-16.81z\" fill=\"${vars.colors.white}\" fill-rule=\"evenodd\" transform=\"translate(-2110.34 -1922.88)\"/></svg>`\n);\n","import styled from \"styled-components\";\nimport { MAX_CANVAS_WIDTH, MOBILE_WIDTH } from \"../../config/consts\";\nimport { TRANSPARENT_BACKGROUND } from \"../../config/images\";\n\nexport const CanvasWrapper = styled.div`\n  flex: 1 0;\n  width: 100%;\n  max-width: ${MAX_CANVAS_WIDTH}px;\n\n  @media (max-width: ${MOBILE_WIDTH}px) {\n    flex: 0 1;\n  }\n\n  svg {\n    display: block;\n    background-repeat: repeat;\n    background-image: url(${TRANSPARENT_BACKGROUND});\n\n    image {\n      pointer-events: none;\n    }\n  }\n`;\n","import { GetPointsProps, Point, PointGroup, Tool } from \"./config/types\";\n\nexport function clamp(value: number, min: number, max: number): number {\n  return Math.min(Math.max(value, min), max);\n}\n\nexport function dist(a: Point, b: Point): number {\n  return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n}\n\nexport function getPosition(\n  event: TouchEvent | PointerEvent,\n  element: SVGSVGElement | null\n): Point {\n  if (element === null) return { x: 0, y: 0 };\n  let { left, top, width, height } = element.getBoundingClientRect();\n  left = Math.abs(left);\n  top = Math.abs(top);\n  let x;\n  let y;\n  if (\"touches\" in event) {\n    x = event.touches[0]?.pageX ?? 0;\n    y = event.touches[0]?.pageY ?? 0;\n  } else {\n    x = event.pageX;\n    y = event.pageY;\n  }\n  return {\n    x: clamp(x - left, 0, width) / width,\n    y: clamp(y - top, 0, height) / height,\n  };\n}\n\nexport function getPoints({\n  pointGroups,\n  pointGroupIndex,\n  pointer,\n  color,\n  brushSize = 10,\n  size,\n  settings,\n}: GetPointsProps): PointGroup[] {\n  const minD = brushSize / Math.min(size.width, size.height) / settings.p;\n  const pointGroup = pointGroups[pointGroupIndex];\n  if (pointGroup === undefined) {\n    pointGroups[pointGroupIndex] = {\n      color,\n      size: brushSize,\n      points: [{ x: pointer.x, y: pointer.y }],\n    };\n    return [...pointGroups];\n  }\n  const lastPoint = pointGroup.points[pointGroup.points.length - 1];\n  if (lastPoint !== undefined) {\n    const d = dist(lastPoint, pointer);\n    if (d < minD) return pointGroups;\n  }\n  pointGroups[pointGroupIndex].color = color;\n  pointGroups[pointGroupIndex].points = [\n    ...pointGroups[pointGroupIndex].points,\n    { x: pointer.x, y: pointer.y },\n  ];\n  return [...pointGroups];\n}\n\nexport function getCursor(tool: Tool): string {\n  switch (tool) {\n    case Tool.move:\n      return \"move\";\n    case Tool.brush:\n      return \"none\";\n    default:\n      return \"default\";\n  }\n}\n","import React from \"react\";\nimport {\n  Filters,\n  Pointer,\n  PointGroup,\n  Position,\n  PsContextType,\n  Settings,\n  Size,\n  Tool,\n} from \"../../config/types\";\nimport { DEFAULTS } from \"../../config/consts\";\nimport { getPoints, getPosition } from \"../../utils\";\n\ntype Props = {\n  children: any;\n  src: string;\n};\n\nexport const PsContext = React.createContext({});\n\nexport default function PsContextProvider({ children, src }: Props) {\n  const [blob, setBlob] = React.useState<string>(\"\");\n  const [pointGroups, setPointGroups] = React.useState<PointGroup[]>(\n    DEFAULTS.pointGroups\n  );\n  const [pointGroupIndex, setPointGroupIndex] = React.useState<number>(\n    DEFAULTS.pointGroupIndex\n  );\n  const [pointer, setPointer] = React.useState<Pointer>({\n    down: false,\n    x: 0,\n    y: 0,\n  });\n  const [size, setSize] = React.useState<Size>({\n    width: 0,\n    height: 0,\n    ratio: 1,\n  });\n  const [rotation, setRotation] = React.useState<number>(DEFAULTS.rotation);\n  const [tool, setTool] = React.useState<Tool>(Tool.move);\n  const [position, setPosition] = React.useState<Position>(DEFAULTS.position);\n  const [filters, setFilters] = React.useState<Filters>(DEFAULTS.filters);\n  const [color, setColor] = React.useState<string>(DEFAULTS.color);\n  const [brushSize, setBrushSize] = React.useState<number>(DEFAULTS.brushSize);\n  const [scale, setScale] = React.useState<number>(DEFAULTS.scale);\n  const [opacity, setOpacity] = React.useState<number>(DEFAULTS.opacity);\n  const transform = React.useMemo((): string => {\n    const cx = size.width / 2;\n    const cy = size.height / 2;\n    const s = scale;\n    return [\n      `translate(${position.x * size.width} ${position.y * size.height})`,\n      `rotate(${rotation}, ${size.width / 2}, ${size.height / 2})`,\n      `matrix(${s}, 0, 0, ${s}, ${cx - s * cx}, ${cy - s * cy})`,\n    ].join(\" \");\n  }, [size, scale, position, rotation]);\n  const settings = React.useMemo<Settings>(() => {\n    return {\n      lineCap: \"round\",\n      p: 3 * size.ratio, // precision\n    };\n  }, [size]);\n  const svg = React.useRef<SVGSVGElement | null>(null);\n\n  const reset = React.useCallback(() => {\n    setPosition(DEFAULTS.position);\n    setFilters(DEFAULTS.filters);\n    setPointGroups(DEFAULTS.pointGroups);\n    setPointGroupIndex(DEFAULTS.pointGroupIndex);\n    setColor(DEFAULTS.color);\n    setBrushSize(DEFAULTS.brushSize);\n    setRotation(DEFAULTS.rotation);\n    setTool(DEFAULTS.tool);\n    setOpacity(DEFAULTS.opacity);\n    setScale(DEFAULTS.scale);\n  }, []);\n\n  const download = React.useCallback(() => {\n    const svgElement: SVGSVGElement | null = svg.current;\n    if (svgElement === null) return;\n    const canvas = document.createElement(\"canvas\");\n    const ctx: CanvasRenderingContext2D | null = canvas.getContext(\"2d\");\n    if (ctx === null) return;\n    const img = new Image();\n    img.onload = () => {\n      canvas.width = img.width;\n      canvas.height = img.height;\n      ctx.drawImage(img, 0, 0, img.width, img.height);\n      canvas.toBlob((blob) => {\n        const a = document.createElement(\"a\");\n        a.href = URL.createObjectURL(blob);\n        a.download = \"image.png\";\n        a.click();\n      }, \"image/png\");\n    };\n    if (svg.current === null) return;\n    svg.current.setAttribute(\"width\", size.width.toString());\n    svg.current.setAttribute(\"height\", size.height.toString());\n    const base64 = encodeURIComponent(svg.current.outerHTML);\n    img.src = `data:image/svg+xml;utf8,${base64}`;\n    svg.current.removeAttribute(\"width\");\n    svg.current.removeAttribute(\"height\");\n  }, [size, svg]);\n\n  React.useEffect(() => {\n    const img = new Image();\n    img.onload = () => {\n      const canvas = document.createElement(\"canvas\");\n      const ctx: CanvasRenderingContext2D | null = canvas.getContext(\"2d\");\n      // @todo resize image to improve performance on large images\n      if (ctx !== null) {\n        canvas.width = img.width;\n        canvas.height = img.height;\n        ctx.drawImage(img, 0, 0);\n        setBlob(canvas.toDataURL(\"image/png\"));\n      }\n      setSize({\n        width: img.width,\n        height: img.height,\n        ratio: img.width / img.height,\n      });\n    };\n    img.src = src;\n  }, [src, setSize, setBlob]);\n\n  React.useEffect(() => {\n    const svgElement: SVGSVGElement | null = svg.current;\n\n    if (svgElement === null) return;\n\n    function onPointerDown(event: TouchEvent | PointerEvent) {\n      const point = getPosition(event, svgElement);\n      if (tool === Tool.brush) {\n        setPointGroupIndex((pointGroupIndex) => pointGroupIndex + 1);\n        setPointGroups((pointGroups) => [\n          ...pointGroups,\n          { color, size: brushSize, points: [point, point] },\n        ]);\n      }\n      setPosition((position) => ({\n        ...position,\n        startX: point.x,\n        startY: point.y,\n      }));\n      setPointer((pointer) => ({ ...pointer, ...point, down: true }));\n    }\n\n    function onPointerMove(event: TouchEvent | PointerEvent) {\n      event.preventDefault();\n      const point = getPosition(event, svgElement);\n      setPointer((pointer) => ({ ...pointer, ...point }));\n    }\n\n    function onPointerUp() {\n      setPosition((position) => ({\n        ...position,\n        lastX: position.x,\n        lastY: position.y,\n      }));\n      setPointer((pointer) => ({ ...pointer, down: false }));\n    }\n\n    svgElement.addEventListener(\"pointerdown\", onPointerDown, {\n      passive: true,\n    });\n    window.addEventListener(\"pointermove\", onPointerMove, { passive: false });\n    window.addEventListener(\"pointerup\", onPointerUp, { passive: false });\n    svgElement.addEventListener(\"touchstart\", onPointerDown, {\n      passive: false,\n    });\n    window.addEventListener(\"touchmove\", onPointerMove, { passive: false });\n    window.addEventListener(\"touchend\", onPointerUp, { passive: false });\n    return () => {\n      svgElement.removeEventListener(\"pointerdown\", onPointerDown);\n      window.removeEventListener(\"pointermove\", onPointerMove);\n      window.removeEventListener(\"pointerup\", onPointerUp);\n      svgElement.removeEventListener(\"touchstart\", onPointerDown);\n      window.removeEventListener(\"touchmove\", onPointerMove);\n      window.removeEventListener(\"touchend\", onPointerUp);\n    };\n  }, [\n    svg,\n    tool,\n    size,\n    color,\n    brushSize,\n    setPointGroupIndex,\n    setPointGroups,\n    setPointer,\n    setPosition,\n  ]);\n\n  React.useEffect(() => {\n    if (!pointer.down || tool !== Tool.brush) return;\n    setPointGroups((pointGroups) =>\n      getPoints({\n        pointGroups,\n        pointGroupIndex,\n        pointer,\n        color,\n        size,\n        settings,\n      })\n    );\n  }, [tool, pointer, pointGroupIndex, color, size, settings, setPointGroups]);\n\n  React.useEffect(() => {\n    if (!pointer.down || tool === Tool.brush) return;\n    setPosition((position) => ({\n      ...position,\n      x: pointer.x - position.startX + position.lastX,\n      y: pointer.y - position.startY + position.lastY,\n    }));\n  }, [pointer, tool, setPosition]);\n\n  const context: PsContextType = {\n    blob,\n    setBlob,\n    pointGroups,\n    setPointGroups,\n    pointGroupIndex,\n    setPointGroupIndex,\n    pointer,\n    setPointer,\n    size,\n    setSize,\n    rotation,\n    setRotation,\n    tool,\n    setTool,\n    position,\n    setPosition,\n    filters,\n    setFilters,\n    color,\n    setColor,\n    brushSize,\n    setBrushSize,\n    scale,\n    setScale,\n    opacity,\n    setOpacity,\n    transform,\n    settings,\n    svg,\n    reset,\n    download,\n  };\n\n  return <PsContext.Provider value={context}>{children}</PsContext.Provider>;\n}\n","import React from \"react\";\nimport { CanvasWrapper } from \"./styles\";\nimport { PsContextType, Tool } from \"../../config/types\";\nimport { PsContext } from \"../ps/context\";\nimport { getCursor } from \"../../utils\";\n\nexport default function Canvas() {\n  const {\n    size,\n    filters,\n    blob,\n    transform,\n    opacity,\n    pointGroups,\n    settings,\n    tool,\n    pointer,\n    brushSize,\n    color,\n    svg,\n  } = React.useContext(PsContext) as PsContextType;\n\n  return (\n    <CanvasWrapper style={{ cursor: getCursor(tool) }}>\n      <svg\n        ref={svg}\n        viewBox={`0 0 ${size.width} ${size.height}`}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n        style={{\n          maxWidth: `${size.width}px`,\n          maxHeight: `${size.height}px`,\n        }}\n      >\n        <filter id=\"filters\">\n          {/* blur */}\n          <feGaussianBlur stdDeviation={filters.blur} />\n          {/* hue */}\n          <feColorMatrix type=\"hueRotate\" values={filters.hue.toString()} />\n          {/* saturation */}\n          <feColorMatrix\n            type=\"saturate\"\n            values={filters.saturation.toString()}\n          />\n          {/* sepia */}\n          {filters.sepia && (\n            <feColorMatrix\n              type=\"matrix\"\n              values=\"0.39 0.769 0.189 0 0 0.349 0.686 0.168 0 0 0.272 0.534 0.131 0 0 0 0 0 1 0\"\n            />\n          )}\n        </filter>\n\n        <image\n          xlinkHref={blob}\n          filter=\"url(#filters)\"\n          transform={transform}\n          opacity={opacity}\n        />\n\n        {pointGroups.map((pointGroup, index) => {\n          return (\n            <path\n              key={index}\n              stroke={pointGroup.color}\n              fill=\"none\"\n              d={`M${pointGroup.points\n                .map((p) => [p.x * size.width, p.y * size.height].join(\",\"))\n                .join(\",\")}`}\n              strokeWidth={pointGroup.size}\n              strokeLinecap={settings.lineCap}\n              strokeLinejoin=\"round\"\n            />\n          );\n        })}\n        {tool === Tool.brush && (\n          <circle\n            cx={(pointer.x * size.width).toString()}\n            cy={(pointer.y * size.height).toString()}\n            r={brushSize / 2}\n            fill={color}\n            strokeMiterlimit=\"10\"\n          />\n        )}\n      </svg>\n    </CanvasWrapper>\n  );\n}\n","import styled from \"styled-components\";\nimport vars from \"../../config/vars\";\nimport { MAX_SIDEBAR_WIDTH, MOBILE_WIDTH } from \"../../config/consts\";\n\nexport const SidebarWrapper = styled.div`\n  align-self: flex-start;\n  padding: 1em;\n  width: 100%;\n  max-width: ${MAX_SIDEBAR_WIDTH}px;\n  background-color: ${vars.colors.black300};\n\n  @media (max-width: ${MOBILE_WIDTH}px) {\n    display: flex;\n    flex-wrap: wrap;\n    max-width: 100%;\n  }\n`;\n","import React from \"react\";\nimport { SidebarWrapper } from \"./styles\";\nimport { PsContextType, Tool } from \"../../config/types\";\nimport { PsContext } from \"../ps/context\";\n\nexport default function Sidebar() {\n  const {\n    tool,\n    setTool,\n    filters,\n    setFilters,\n    color,\n    setColor,\n    brushSize,\n    setBrushSize,\n    rotation,\n    setRotation,\n    scale,\n    setScale,\n    opacity,\n    setOpacity,\n    download,\n    reset,\n  } = React.useContext(PsContext) as PsContextType;\n\n  return (\n    <SidebarWrapper>\n      <div>\n        <label>\n          draw:\n          <input\n            type=\"checkbox\"\n            checked={tool === Tool.brush}\n            onChange={(e) => setTool(e.target.checked ? Tool.brush : Tool.move)}\n          />\n        </label>\n      </div>\n      <div>\n        <label>\n          sepia:\n          <input\n            type=\"checkbox\"\n            checked={filters.sepia}\n            onChange={(e) =>\n              setFilters((filters) => ({\n                ...filters,\n                sepia: e.target.checked,\n              }))\n            }\n          />\n        </label>\n      </div>\n      <div>\n        <label>color({color}):</label>\n        <br />\n        <input\n          type=\"color\"\n          value={color}\n          onChange={(e) => setColor(e.target.value)}\n        />\n      </div>\n      <div>\n        <label>saturation({filters.saturation}):</label>\n        <br />\n        <input\n          type=\"range\"\n          min={0}\n          max={3}\n          step={0.01}\n          value={filters.saturation}\n          onChange={(e) =>\n            setFilters((filters) => ({\n              ...filters,\n              saturation: parseFloat(e.target.value),\n            }))\n          }\n        />\n      </div>\n      <div>\n        <label>brushSize({brushSize}px):</label>\n        <br />\n        <input\n          type=\"range\"\n          min={0}\n          max={100}\n          step={1}\n          value={brushSize}\n          onChange={(e) => setBrushSize(parseInt(e.target.value, 10))}\n        />\n      </div>\n      <div>\n        <label>rotation({rotation}&deg;):</label>\n        <br />\n        <input\n          type=\"range\"\n          min={0}\n          max={360}\n          step={1}\n          value={rotation}\n          onChange={(e) => setRotation(parseInt(e.target.value, 10))}\n        />\n      </div>\n      <div>\n        <label>blur({filters.blur}px):</label>\n        <br />\n        <input\n          type=\"range\"\n          min={0}\n          max={100}\n          step={1}\n          value={filters.blur}\n          onChange={(e) =>\n            setFilters((filters) => ({\n              ...filters,\n              blur: parseInt(e.target.value, 10),\n            }))\n          }\n        />\n      </div>\n      <div>\n        <label>hue({filters.hue}&deg;):</label>\n        <br />\n        <input\n          type=\"range\"\n          min={0}\n          max={360}\n          step={1}\n          value={filters.hue}\n          onChange={(e) =>\n            setFilters((filters) => ({\n              ...filters,\n              hue: parseInt(e.target.value, 10),\n            }))\n          }\n        />\n      </div>\n      <div>\n        <label>scale({scale}):</label>\n        <br />\n        <input\n          type=\"range\"\n          min={0.1}\n          max={2}\n          step={0.01}\n          value={scale}\n          onChange={(e) => setScale(parseFloat(e.target.value))}\n        />\n      </div>\n      <div>\n        <label>opacity({opacity}):</label>\n        <br />\n        <input\n          type=\"range\"\n          min={0}\n          max={1}\n          step={0.01}\n          value={opacity}\n          onChange={(e) => setOpacity(parseFloat(e.target.value))}\n        />\n      </div>\n      <div>\n        <button onClick={download}>download</button>\n      </div>\n      <div>\n        <button onClick={reset}>reset</button>\n      </div>\n    </SidebarWrapper>\n  );\n}\n","import React from \"react\";\nimport { PsFlex, PsInner, PsWrapper } from \"./styles\";\nimport { Props } from \"../../config/types\";\nimport Toolbar from \"../toolbar/toolbar\";\nimport Canvas from \"../canvas/canvas\";\nimport Sidebar from \"../sidebar/sidebar\";\nimport PsContextProvider from \"./context\";\n\nexport default function Ps({ src }: Props) {\n  return (\n    <PsContextProvider src={src}>\n      <PsWrapper>\n        <PsInner>\n          <Toolbar />\n          <PsFlex>\n            <Canvas />\n            <Sidebar />\n          </PsFlex>\n        </PsInner>\n      </PsWrapper>\n    </PsContextProvider>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport testLandscape from \"./assets/test-landscape.png\";\nimport Ps from \"./components/ps/ps\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Ps src={testLandscape} />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}